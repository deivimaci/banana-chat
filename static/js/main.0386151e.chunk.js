(this["webpackJsonpbanana-chat"]=this["webpackJsonpbanana-chat"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/remove.b0172222.svg"},,function(e,t,a){e.exports=a.p+"static/media/banana.df6d4afe.svg"},,function(e,t,a){e.exports=a(39)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),s=a.n(c),l=(a(24),a(25),a(26),a(1)),u=a(15),o=a.n(u),i=(a(31),function(e){var t=e.post,a=t.userPicture,n=t.user,c=t.message,s=t.tags,u=t.id,i=t.image,m=Object(l.b)();return r.a.createElement("div",{className:"post-container"},r.a.createElement("div",{className:"user-photo"},r.a.createElement("img",{src:a,alt:"user"})),r.a.createElement("div",{className:"user-name"},n),r.a.createElement("div",{className:"post"},c,i&&r.a.createElement("img",{className:"post-image",src:i,alt:"post-image"}),function(e){return 0===e.length?null:r.a.createElement("div",{className:"post-tags"},e.split(" ").map((function(e,t){return r.a.createElement("span",{key:t},"@",e)})))}(s)),r.a.createElement("img",{src:o.a,alt:"remove post",className:"remove",onClick:function(){return function(e){return m(function(e){return{type:"DELETE_POST",payload:{id:e}}}(e))}(u)}}))}),m=(a(32),function(){var e=Object(l.c)((function(e){return e.posts})).posts;return r.a.createElement("div",{className:"feed-wall-container"},r.a.createElement("div",{className:"header"},"The Feed"),r.a.createElement("div",{className:"scrollable"},e.length<=0&&r.a.createElement("div",{className:"empty"},"Post feed is empty :("),e.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(i,{post:e}))}))))}),p=a(6),d=(a(33),a(16)),f=function(){var e,t,a,c=new d,s=Object(n.useState)(""),u=Object(p.a)(s,2),o=u[0],i=u[1],m=Object(n.useState)(null),f=Object(p.a)(m,2),E=f[0],g=f[1],b=Object(n.useState)(null),v=Object(p.a)(b,2),O=v[0],N=v[1],h=Object(n.useState)("No image selected"),j=Object(p.a)(h,2),y=j[0],S=j[1],T=Object(l.b)(),C=Object(l.c)((function(e){return e.user})).currentUser,w=function(e){e.preventDefault();var t=e.target.files[0];t?(S(t.name),P(t).then((function(e){N(e)}))):(S("No image selected"),N(null))},P=function(e){return new Promise((function(t,a){var n=new FileReader;n.onloadend=function(){return t(n.result)},n.readAsDataURL(e)}))},R=function(){e.value="",a.value="",N(null),S("No image selected"),i("")};return r.a.createElement("div",{className:"create-container"},r.a.createElement("div",{className:"header"},"Create post"),r.a.createElement("div",{className:"note"},"NOTE: POST CANNOT EXCEED 150 SYMBOLS"),r.a.createElement("textarea",{placeholder:"Write your post here",name:"message",ref:function(t){return e=t},onInput:function(e){return function(e){i(e),g(null),0===e.trim().length&&g("This input is required"),e.trim().length>150&&g("Message could only be 150 characters long")}(e.target.value)},autoComplete:"off",className:"post-input",required:!0}),r.a.createElement("p",{className:"validation-message"},E),r.a.createElement("p",null,"tags"),r.a.createElement("input",{placeholder:"Tag somebody to your post",name:"tags",autoComplete:"off",className:"tag-input",ref:function(e){return a=e}}),r.a.createElement("input",{ref:function(e){return t=e},className:"upload-input",type:"file",onChange:w}),r.a.createElement("button",{className:"btn-upload",onClick:function(){t.click((function(e){return w(e)}))}},"Upload Image"),r.a.createElement("p",null,y),r.a.createElement("button",{type:"reset",className:"btn-discard",onClick:function(){return R()}},"Discard"),r.a.createElement("button",{type:"submit",className:"btn-create",onClick:function(){return function(){var e={id:c.guid(),user:C.name.first,image:O,userPicture:C.picture.thumbnail,message:o,tags:a.value};T({type:"CREATE_POST",payload:{post:e}}),R()}()},disabled:null===O&&""===o||null===O&&null!==E},"Create"))},E=(a(38),a(17)),g=a.n(E),b=function(){var e=Object(l.c)((function(e){return e.user})).currentUser;return r.a.createElement("div",{className:"header-container"},r.a.createElement("div",{className:"banana"},r.a.createElement("img",{src:g.a,className:"banana-logo",alt:"Banana Logo"}),"Banana Chat"),e&&r.a.createElement("div",{className:"header-title"},"Hello, ",e.name.first,r.a.createElement("img",{className:"user-picture",src:e.picture.medium,alt:"profile"})))},v=function(){return r.a.createElement("div",null,r.a.createElement(b,null),r.a.createElement("div",{className:"container"},r.a.createElement(f,null),r.a.createElement(m,null)))},O=function(){var e=Object(l.b)();return Object(n.useEffect)((function(){e({type:"LOAD_POSTS"}),fetch("https://randomuser.me/api/").then((function(e){return e.json()})).then((function(t){return e(function(e){return{type:"SET_CURRENT_USER",payload:e}}(t.results[0]))}))}),[e]),r.a.createElement(v,null)},N=a(3),h=a(18),j=a.n(h),y=a(5),S={currentUser:null},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(y.a)({},e,{currentUser:t.payload});default:return e}},C=a(8),w={posts:[]},P=function(e){window.localStorage.setItem("posts",JSON.stringify(e))},R=function(){return JSON.parse(window.localStorage.getItem("posts"))},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"LOAD_POSTS":var r=R();return null===r&&(r=[]),Object(y.a)({},e,{posts:r});case"CREATE_POST":return P([n.post].concat(Object(C.a)(e.posts))),Object(y.a)({},e,{posts:[n.post].concat(Object(C.a)(e.posts))});case"DELETE_POST":var c=Object(C.a)(e.posts),s=e.posts.findIndex((function(e){return e.id===n.id}));return console.log(s),c.splice(s,1),P(c),Object(y.a)({},e,{posts:c});default:return e}},_=Object(N.c)({user:T,posts:U}),k=[j.a],D=Object(N.d)(_,N.a.apply(void 0,k));s.a.render(r.a.createElement(l.a,{store:D},r.a.createElement(O,null)),document.getElementById("root"))}],[[19,1,2]]]);
//# sourceMappingURL=main.0386151e.chunk.js.map